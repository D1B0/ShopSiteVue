<template>
  <div>
    <section class="header__navigation center">
      <h1 class="header__title">NEW ARRIVALS</h1>
      <nav class="header__breadcrumb__location">
        <ul class="header__breadcrumb">
          <li class="header__breadcrumb__link"><a class="active__link" >HOME </a></li>
          <li class="header__breadcrumb__link"><a class="active__link" href="#">MAN </a></li>
          <li class="header__breadcrumb__link">
            <p class="header__breadcrumb__end">NEW ARRIVALS</p>
          </li>
        </ul>
      </nav>
    </section>
    <section class="product center">
      <div class="product__header__filters ">
        <details class="filter__menu setting__details">
          <summary class="filter__button setting__details__style">

                    <span class="filter__button__element">
                        <span class="filter__text">FILTER</span>
                        <span class="filter__svg">
                            <svg width="15" height="12" viewBox="0 0 15 12" fill="css"
                                 xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M0.833333 10H4.16667C4.625 10 5 9.625 5 9.16667C5 8.70833 4.625 8.33333 4.16667 8.33333H0.833333C0.375 8.33333 0 8.70833 0 9.16667C0 9.625 0.375 10 0.833333 10ZM0 0.833333C0 1.29167 0.375 1.66667 0.833333 1.66667H14.1667C14.625 1.66667 15 1.29167 15 0.833333C15 0.375 14.625 0 14.1667 0H0.833333C0.375 0 0 0.375 0 0.833333ZM0.833333 5.83333H9.16667C9.625 5.83333 10 5.45833 10 5C10 4.54167 9.625 4.16667 9.16667 4.16667H0.833333C0.375 4.16667 0 4.54167 0 5C0 5.45833 0.375 5.83333 0.833333 5.83333Z"
                                    fill="css"/>
                            </svg>
                        </span>
                    </span>
            <span class="filter__picture">
                        <svg width="38" height="25" viewBox="0 0 38 25" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M2.08333 25H10.4167C11.5625 25 12.5 24.0625 12.5 22.9167C12.5 21.7708 11.5625 20.8333 10.4167 20.8333H2.08333C0.9375 20.8333 0 21.7708 0 22.9167C0 24.0625 0.9375 25 2.08333 25ZM0 2.08333C0 3.22917 0.9375 4.16667 2.08333 4.16667H35.4167C36.5625 4.16667 37.5 3.22917 37.5 2.08333C37.5 0.9375 36.5625 0 35.4167 0H2.08333C0.9375 0 0 0.9375 0 2.08333ZM2.08333 14.5833H22.9167C24.0625 14.5833 25 13.6458 25 12.5C25 11.3542 24.0625 10.4167 22.9167 10.4167H2.08333C0.9375 10.4167 0 11.3542 0 12.5C0 13.6458 0.9375 14.5833 2.08333 14.5833Z"/>
                        </svg>

                    </span>

          </summary>

          <div class="filter__block ">
            <details class="filter__menu__item setting__detail ">
              <summary class="filter__category setting__details__style">CATEGORY</summary>
              <ul class="filter__category__header">
                <li class="filter__category__type"><a class="category__link" href="#">Accessories</a></li>
                <li class="filter__category__type"><a class="category__link" href="#">Bags</a></li>
                <li class="filter__category__type"><a class="category__link" href="#">Denim</a></li>
                <li class="filter__category__type"><a class="category__link" href="#">Hoodies &
                  Sweatshirts</a></li>
                <li class="filter__category__type"><a class="category__link" href="#">Jackets & Coats</a>
                </li>
                <li class="filter__category__type"><a class="category__link" href="#">Polos</a></li>
                <li class="filter__category__type"><a class="category__link" href="#">Shirts</a></li>
                <li class="filter__category__type"><a class="category__link" href="#">Shoes</a></li>
                <li class="filter__category__type"><a class="category__link" href="#">Sweaters & Knits</a>
                </li>
                <li class="filter__category__type"><a class="category__link" href="#">T-Shirts</a></li>
                <li class="filter__category__type"><a class="category__link" href="#">Tanks</a></li>
              </ul>
            </details>
            <details class="filter__menu__item setting__detail">
              <summary class="filter__category setting__details__style">BRAND</summary>
              <ul class="filter__category__header">
                <li class="filter__category__type"><a class="category__link" href="#">Accessories</a></li>
                <li class="filter__category__type"><a class="category__link" href="#">Bags</a></li>
                <li class="filter__category__type"><a class="category__link" href="#">Denim</a></li>
                <li class="filter__category__type"><a class="category__link" href="#">Hoodies &
                  Sweatshirts</a></li>
                <li class="filter__category__type"><a class="category__link" href="#">Jackets & Coats</a>
                </li>
                <li class="filter__category__type"><a class="category__link" href="#">Polos</a></li>
                <li class="filter__category__type"><a class="category__link" href="#">Shirts</a></li>
                <li class="filter__category__type"><a class="category__link" href="#">Shoes</a></li>
                <li class="filter__category__type"><a class="category__link" href="#">Sweaters & Knits</a>
                </li>
                <li class="filter__category__type"><a class="category__link" href="#">T-Shirts</a></li>
                <li class="filter__category__type"><a class="category__link" href="#">Tanks</a></li>
              </ul>
            </details>
            <details class="filter__menu__item setting__detail">
              <summary class="filter__category setting__details__style">DESIGNER</summary>
              <ul class="filter__category__header">
                <li class="filter__category__type"><a class="category__link" href="#">Accessories</a></li>
                <li class="filter__category__type"><a class="category__link" href="#">Bags</a></li>
                <li class="filter__category__type"><a class="category__link" href="#">Denim</a></li>
                <li class="filter__category__type"><a class="category__link" href="#">Hoodies &
                  Sweatshirts</a></li>
                <li class="filter__category__type"><a class="category__link" href="#">Jackets & Coats</a>
                </li>
                <li class="filter__category__type"><a class="category__link" href="#">Polos</a></li>
                <li class="filter__category__type"><a class="category__link" href="#">Shirts</a></li>
                <li class="filter__category__type"><a class="category__link" href="#">Shoes</a></li>
                <li class="filter__category__type"><a class="category__link" href="#">Sweaters & Knits</a>
                </li>
                <li class="filter__category__type"><a class="category__link" href="#">T-Shirts</a></li>
                <li class="filter__category__type"><a class="category__link" href="#">Tanks</a></li>
              </ul>
            </details>
          </div>
        </details>
        <ul class="product__filters__middle">
          <li class="product__filters">
            <details class="feature__menu setting__details">
              <summary class="feature__button setting__details__style">
                            <span class="feature__buttom__element">
                                <span class="feature__text">
                                    TRENDING NOW
                                </span>
                                <svg width="11" height="6" viewBox="0 0 11 6" xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M5.00214 5.00214C4.83521 5.00247 4.67343 4.94433 4.54488 4.83782L0.258102 1.2655C0.112196 1.14422 0.0204417 0.969958 0.00302325 0.781035C-0.0143952 0.592112 0.0439493 0.404007 0.165221 0.258101C0.286493 0.112196 0.460759 0.0204417 0.649682 0.00302327C0.838605 -0.0143952 1.02671 0.043949 1.17262 0.165221L5.00214 3.36602L8.83167 0.279536C8.90475 0.220188 8.98884 0.175869 9.0791 0.149125C9.16937 0.122382 9.26403 0.113741 9.35764 0.1237C9.45126 0.133659 9.54198 0.162021 9.6246 0.207156C9.70722 0.252292 9.7801 0.313311 9.83906 0.386705C9.90449 0.460167 9.95405 0.546351 9.98462 0.639855C10.0152 0.733359 10.0261 0.83217 10.0167 0.930097C10.0073 1.02802 9.97784 1.12296 9.93005 1.20895C9.88227 1.29494 9.81723 1.37013 9.73904 1.42982L5.45225 4.88068C5.32002 4.97036 5.16154 5.01312 5.00214 5.00214Z"
                                        fill="#6F6E6E"/>
                                </svg>
                            </span>
              </summary>

            </details>
          </li>
          <li class="product__filters">
            <details class="feature__menu setting__details">
              <summary class="feature__button setting__details__style">
                            <span class="feature__buttom__element">
                                <span class="feature__text">
                                    SIZE
                                </span>
                                <svg width="11" height="6" viewBox="0 0 11 6" xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M5.00214 5.00214C4.83521 5.00247 4.67343 4.94433 4.54488 4.83782L0.258102 1.2655C0.112196 1.14422 0.0204417 0.969958 0.00302325 0.781035C-0.0143952 0.592112 0.0439493 0.404007 0.165221 0.258101C0.286493 0.112196 0.460759 0.0204417 0.649682 0.00302327C0.838605 -0.0143952 1.02671 0.043949 1.17262 0.165221L5.00214 3.36602L8.83167 0.279536C8.90475 0.220188 8.98884 0.175869 9.0791 0.149125C9.16937 0.122382 9.26403 0.113741 9.35764 0.1237C9.45126 0.133659 9.54198 0.162021 9.6246 0.207156C9.70722 0.252292 9.7801 0.313311 9.83906 0.386705C9.90449 0.460167 9.95405 0.546351 9.98462 0.639855C10.0152 0.733359 10.0261 0.83217 10.0167 0.930097C10.0073 1.02802 9.97784 1.12296 9.93005 1.20895C9.88227 1.29494 9.81723 1.37013 9.73904 1.42982L5.45225 4.88068C5.32002 4.97036 5.16154 5.01312 5.00214 5.00214Z"
                                        fill="#6F6E6E"/>
                                </svg>
                            </span>
              </summary>
              <ul class="checkbox__size">


                <li class="size__name"><input class="input__button" type="checkbox" name="XS" id="XS">
                  <label class="name__item" for="XS">XS</label>
                </li>
                <li class="size__name"><input class="input__button" type="checkbox" name="S" id="S">
                  <label class="name__item" for="XS">S</label>
                </li>
                <li class="size__name"><input class="input__button" type="checkbox" name="M" id="M">
                  <label class="name__item" for="XS">M</label>
                </li>
                <li class="size__name"><input class="input__button" type="checkbox" name="L" id="L">
                  <label class="name__item" for="XS">L</label>
                </li>
              </ul>

            </details>
          </li>
          <li class="product__filters">
            <details class="feature__menu setting__details">
              <summary class="feature__button setting__details__style">
                            <span class="feature__buttom__element">
                                <span class="feature__text">
                                    PRICE
                                </span>
                                <svg width="11" height="6" viewBox="0 0 11 6" xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M5.00214 5.00214C4.83521 5.00247 4.67343 4.94433 4.54488 4.83782L0.258102 1.2655C0.112196 1.14422 0.0204417 0.969958 0.00302325 0.781035C-0.0143952 0.592112 0.0439493 0.404007 0.165221 0.258101C0.286493 0.112196 0.460759 0.0204417 0.649682 0.00302327C0.838605 -0.0143952 1.02671 0.043949 1.17262 0.165221L5.00214 3.36602L8.83167 0.279536C8.90475 0.220188 8.98884 0.175869 9.0791 0.149125C9.16937 0.122382 9.26403 0.113741 9.35764 0.1237C9.45126 0.133659 9.54198 0.162021 9.6246 0.207156C9.70722 0.252292 9.7801 0.313311 9.83906 0.386705C9.90449 0.460167 9.95405 0.546351 9.98462 0.639855C10.0152 0.733359 10.0261 0.83217 10.0167 0.930097C10.0073 1.02802 9.97784 1.12296 9.93005 1.20895C9.88227 1.29494 9.81723 1.37013 9.73904 1.42982L5.45225 4.88068C5.32002 4.97036 5.16154 5.01312 5.00214 5.00214Z"
                                        fill="#6F6E6E"/>
                                </svg>
                            </span>
              </summary>
            </details>
          </li>
        </ul>
      </div>

      <div v-if="$store.state.productModule.search === ''" class="product__block product__catalog">
        <ProductItem v-for="product in $store.getters.getAllProducts.slice((page-1)*9,(page-1)*9+limit)"
                     :key="product.id_product" :product="product"/>
      </div>
      <div v-else class="product__block product__catalog">
        <ProductItem v-for="product in $store.getters.getFilterProduct" :key="product.id_product" :product="product"/>
      </div>
      <ul class="product__footer product__fotter_catalog">
        <li class="product__arrow"
            @click="pageBefore">
          <svg width="13" height="23" viewBox="0 0 13 23" xmlns="http://www.w3.org/2000/svg">
            <path
                d="M12.6998 3.7499L4.9498 11.4999L12.6998 19.2499L11.1498 22.3499L0.299805 11.4999L11.1498 0.649902L12.6998 3.7499Z"/>
          </svg>

        </li>
        <li v-for="n in $store.getters.getProductPages(this.limit)"
            :key="n"
            class="product__number"
            @click="pageButton(n)"
        ><div v-if="n===page" class="product__number_active">{{ n }}</div>
          <div v-else class="product__number_normal">{{ n }}</div>
        </li>
        <li class="product__arrow"
            @click="pageNext">
          <svg width="13" height="23" viewBox="0 0 13 23" xmlns="http://www.w3.org/2000/svg">
            <path
                d="M0.299805 19.2499L8.0498 11.4999L0.299805 3.7499L1.8498 0.649902L12.6998 11.4999L1.8498 22.3499L0.299805 19.2499Z"/>
          </svg>
        </li>
      </ul>
    </section>
  </div>
</template>

<script>

import ProductItem from "@/components/ProductItem";

export default {
  name: 'products',
  components: {ProductItem},
  data: () => ({
    page: 1,
    limit: 9
  }),
  mounted() {

    this.$store.dispatch('fetchProducts')
    this.pages = this.$store.getters.getProductPages(this.limit)

  },

  methods: {
    pageButton(n) {
      this.page = n

    },
    pageBefore() {
      if (this.page === 1) {
        return false
      } else {
        this.page--
      }
    },
    pageNext(){
      if(this.page === this.$store.getters.getProductPages(this.limit)){
        this.page=this.$store.getters.getProductPages(this.limit)
      }else{
        this.page++
      }
    }
  },
  computed: {}
}
</script>

<style scoped>

</style>